# 阶段4：App Store合规与产品级要求

## 一、基本信息

| 项目 | 决策 |
|------|------|
| App名称 | 待定 |
| 用户登录 | 不需要，纯本地使用 |
| 最低iOS版本 | iOS 16.0 |
| 目标设备 | iPhone（V1不支持iPad） |
| 年龄分级 | 4+（无暴力/赌博内容） |

---

## 二、App Store审核要点

| 类别 | 要求 | 处理方式 |
|------|------|---------|
| 内购合规 | 虚拟商品必须使用IAP | 使用StoreKit 2 |
| 隐私政策 | 必须提供隐私政策链接 | 准备隐私政策页面 |
| 数据收集 | 需声明收集的数据类型 | 仅本地数据，不上传 |
| 年龄分级 | 需要正确的年龄评级 | 4+ |
| 功能完整 | 不能是Demo或Beta | V1功能完整 |
| UI适配 | 支持各种iPhone屏幕 | 全机型适配 |

---

## 三、隐私与数据

### 数据收集声明

| 数据类型 | 是否收集 | 用途 | 是否上传 |
|---------|---------|------|---------|
| 用户进度 | ✅ | 保存学习进度 | ❌ 仅本地 |
| 练习统计 | ✅ | 数据分析展示 | ❌ 仅本地 |
| 购买记录 | ✅ | 恢复购买 | Apple管理 |
| 设备信息 | ❌ | - | - |
| 位置信息 | ❌ | - | - |
| 用户账户 | ❌ | 无需登录 | - |

### 隐私标签

- 不收集任何用于追踪的数据
- 不与第三方共享数据
- 所有数据存储在用户设备本地

---

## 四、内购合规要求

| 要求 | 说明 | 实现方式 |
|------|------|---------|
| 恢复购买 | 必须提供恢复购买功能 | 设置页"恢复购买"按钮 |
| 购买确认 | 明确显示价格和内容 | 购买前弹窗确认 |
| 家长控制 | 支持屏幕使用时间限制 | 系统自动支持 |
| 退款说明 | 引导用户通过Apple退款 | 帮助页面说明 |

### 内购项目配置

| 产品ID | 类型 | 价格 | 说明 |
|--------|------|------|------|
| com.app.course.basic | 非消耗型 | ¥18 | 基础课程包 |
| com.app.course.advanced | 非消耗型 | ¥25 | 进阶课程包 |
| com.app.course.expert | 非消耗型 | ¥20 | 高级课程包 |
| com.app.course.full | 非消耗型 | ¥48 | 全功能解锁 |

---

## 五、UI/UX产品级要求

### 必需界面

| 界面 | 说明 | 优先级 |
|------|------|--------|
| 启动页 | 品牌展示，<3秒 | P0 |
| 引导页 | 首次使用功能介绍（3-4页） | P0 |
| 首页 | 功能入口 | P0 |
| 课程列表 | 显示课程和解锁状态 | P0 |
| 课程详情 | 课程内容和开始学习 | P0 |
| 训练场景 | 核心游戏界面 | P0 |
| 设置页 | 恢复购买、帮助等 | P0 |
| 统计页 | 数据展示 | P1 |

### 状态处理

| 状态 | 处理方式 |
|------|---------|
| 空状态 | 友好提示+引导操作 |
| 加载中 | 进度指示器 |
| 操作成功 | Toast/HUD反馈 |
| 操作失败 | 错误提示+重试选项 |
| 网络错误 | 提示+离线可用说明 |
| 购买失败 | 错误原因+重试 |

### 系统适配

| 特性 | 支持 |
|------|------|
| 深色模式 | ✅ |
| 动态字体 | ✅ |
| 横竖屏 | 仅竖屏（训练场景可横屏） |
| 安全区域 | ✅ 适配刘海/灵动岛 |

---

## 六、设备适配

| 设备 | 屏幕 | 支持 |
|------|------|------|
| iPhone SE (3rd) | 4.7" | ✅ |
| iPhone 14 | 6.1" | ✅ |
| iPhone 14 Plus | 6.7" | ✅ |
| iPhone 14 Pro | 6.1" | ✅ |
| iPhone 14 Pro Max | 6.7" | ✅ |
| iPhone 15系列 | 6.1"/6.7" | ✅ |
| iPad | - | ❌ V1不支持 |

---

## 七、App Store上架素材

### 必需素材

| 素材 | 规格 | 数量 |
|------|------|------|
| App图标 | 1024x1024 PNG | 1 |
| 6.7"截图 | 1290x2796 | 5-10张 |
| 6.5"截图 | 1284x2778 | 5-10张 |
| 5.5"截图 | 1242x2208 | 5-10张 |
| 预览视频 | 1080p, 15-30秒 | 可选 |

### 文案素材

| 项目 | 字数限制 | 说明 |
|------|---------|------|
| App名称 | 30字符 | 简洁易记 |
| 副标题 | 30字符 | 功能描述 |
| 推广文本 | 170字符 | 可随时更新 |
| 描述 | 4000字符 | 详细功能介绍 |
| 关键词 | 100字符 | 逗号分隔 |
| 新功能 | 4000字符 | 版本更新说明 |

### 关键词建议

```
台球,八球,中式八球,训练,教学,瞄准,走位,杆法,翻袋,K球,
物理引擎,模拟器,练习,技巧,入门,进阶,billiard,pool
```

---

## 八、必需链接

| 链接 | 用途 | 准备方式 |
|------|------|---------|
| 隐私政策URL | App Store必需 | GitHub Pages / 简单网页 |
| 支持URL | 用户反馈 | 邮箱链接 / 网页表单 |
| 营销URL | 可选 | 产品官网（可后期） |

---

## 九、发布前检查清单

### 功能测试
- [ ] 所有课程可正常学习
- [ ] 所有训练场可正常使用
- [ ] 物理引擎表现正常
- [ ] 相机控制流畅
- [ ] 数据保存正常
- [ ] 进度统计准确

### 内购测试
- [ ] 沙盒环境购买成功
- [ ] 恢复购买功能正常
- [ ] 购买后内容解锁
- [ ] 购买失败正确处理

### 适配测试
- [ ] iPhone SE正常显示
- [ ] iPhone 14/15正常显示
- [ ] iPhone Pro Max正常显示
- [ ] 深色模式正常
- [ ] 动态字体正常

### 性能测试
- [ ] 启动时间<3秒
- [ ] 无内存泄漏
- [ ] 帧率稳定60fps
- [ ] 电池消耗合理

### 上架准备
- [ ] App图标设计完成
- [ ] 截图准备完成
- [ ] 描述文案完成
- [ ] 隐私政策页面上线
- [ ] 支持邮箱配置

---

## 十、审核注意事项

### 常见被拒原因及预防

| 被拒原因 | 预防措施 |
|---------|---------|
| 功能不完整 | 确保V1功能完整可用 |
| 崩溃/Bug | 充分测试，修复所有崩溃 |
| 隐私政策缺失 | 提前准备隐私政策页面 |
| 内购问题 | 沙盒环境充分测试 |
| 元数据问题 | 截图真实，描述准确 |
| 设计粗糙 | 保证UI质量 |

### 审核时间预估

- 首次提交：1-3个工作日
- 被拒后重新提交：1-2个工作日
- 建议预留1-2周审核时间
